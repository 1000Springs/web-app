{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='galleriffic-2.css')}}" type="text/css" />

  {{ super() }}

<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.galleriffic.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.opacityrollover.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/maps.js') }}"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true"></script>


<script type="text/javascript">
	
	


	window.onload=function()
	{
	initalizeSampleSite();
	var markerPosition = new  google.maps.LatLng({{sample_site.eastings}},{{sample_site.northings}});
	addNewMarker(markerPosition,"http://maps.google.com/mapfiles/ms/icons/red-dot.png");
	$('i').tooltip();

	/*
		Gives focus to username textbox.
		The timeout is because the model window needs time to load so without it, the focus would be set to nothing
	*/
	$('#loginButton').click(function() {

		window.setTimeout(function() {
			$('#usernameTextbox').focus();
		}, 700, true);
		 

	});

		$('.accordion').on('show hide', function (n) 
		{
			$(n.target).siblings('.accordion-heading').find('.accordion-toggle i').toggleClass('icon-chevron-up icon-chevron-down');
		});
	};



	</script>





{% endblock %}
{% block content %}


	<div class="row-fluid contrast" style="height:73px;position:relative;background-color:rgba(29,155,171,0.5);padding-left:15px">
		
		<h2>{{sample_site.feature_name}}</h2>	
		<!-- <p class="muted">Sample Site {{sample_site.location_id}}</p> -->	
		

		
	</div>

	<div class="divider"></div>

<div class="row-fluid" style="position:relative;background-color:white">
	<div class="span7">	
		
		
		<p>{{sample_site.desc}}</p>
		<div style="margin-left:15px;">

			
			<div class="span9">
			<table class="descTable" style="width:100%">				
				<tr>
					<td >			
						<h5 style="margin-top:0px;" >Location: </h5> 
					</td>
					<td style="width:100%; text-align:left;">
						<p>{{sample_site.city}}</p>
					</td>				
				</tr>
				<tr>
					<td >			
						<h5 style="margin-top:0px;" >Temperature: </h5> 
					</td>
					<td style="width:100%">
						<p class="unitText" > 1°C </p>
						<div class="progress">
							<div class="bar" style="width:{{sample_site.temp}}%;"><p> {{sample_site.temp}} </p></div>
						</div>
						<p class="unitText"> 100°C </p>			
					</td>
				</tr>
				<tr>
					<td >			
						<h5 style="margin-top:0px;" >Redox: </h5> 
					</td>
					<td style="width:100%">
						<p class="unitText"> 1°C </p>
						<div class="progress">
							<div class="bar" style="width:{{sample_site.temp}}%;"><p> {{sample_site.temp}} </p></div>
						</div>
						<p class="unitText" > 100°C </p>			
					</td>
				</tr>
		
			</table>
			</div>
		
			<div>
				{% if sample_site.toilet %}
						<i rel="tooltip" data-original-title="Trash cans available" class="icon-trash" style="margin:0 2px;"></i>
					{% endif %}
					{% if sample_site.track %}
						<i rel="tooltip" data-original-title="Walking track available" class="icon-road" style="margin:0 2px;"></i>
					{% endif %}
					{% if sample_site.parkbench %}
						<i rel="tooltip" data-original-title="Park benches available" class="icon-hdd" style="margin:0 2px;"></i>
					{% endif %}
					{% if sample_site.private %}
						<i rel="tooltip" data-original-title="Private Property" class="icon-warning-sign" style="margin:0 2px;"></i>
					{% endif %}
			</div>	
			</div>
			
	</div>
			
		
				<!-- Start Advanced Gallery Html Containers -->
				<div class="span5">
				<div id="show_map"></div>

		<div class="divider"></div>
		<div>
			<div id="gallery" class="content">
					
					<div class="slideshow-container">
					
						<div id="slideshow" class="slideshow"></div>
					</div>
					
				</div>
				<div class="row-fluid">
				<div class="span1">
				<div id="backward"><img src="{{url_for('static', filename='img/icons/previous.png')}}" style="margin-top:25px;cursor:pointer;"></div>
				</div>
				
				<div class="span10">
				<div id="thumbs" class="navigation">
				
					<ul class="thumbs noscript">
						{% for image in images %}
						<li>
							<a class="thumb" name="leaf" href="{{url_for('static', filename=image.imagepath)}}" title="{{image.imagename}}">
								<img src="{{url_for('static', filename=image.imagepath)}}" alt="{{image.imagename}}" />
							</a>

						</li>

						<li>
							<a class="thumb" name="leaf" href="http://farm4.static.flickr.com/3261/2538183196_8baf9a8015.jpg" title="Title #0">
								<img src="http://farm4.static.flickr.com/3261/2538183196_8baf9a8015_s.jpg" alt="Title #0" />
							</a>							
						</li>
						{% endfor %}
					
						
					</ul>
				
				</div>
				</div>
				<div class="span1">
					<div id="forward"><img src="{{url_for('static', filename='img/icons/next.png')}}" style="margin-top:25px;cursor:pointer;"></div>
				</div>
			</div>
			</div>
			</div>
		</div>
		<div style="height:15px;position:relative;background-color:rgb(255,255,255)"></div>
	

			<!-- <a href="#myModal" role="button" class="btn" data-toggle="modal" style="float:right;" id="loginButton">Advanced</a> -->
		 
{% if session.logged_in %}
	<div id="advanced">
		<H1> HEY THERE! YOU CAN SEE ME BECAUSE YOU ARE LOGGED IN, GOOD FOR YOU! </h1>
	</div>
{% endif %}

<!-- <div class="accordion" id="accordion2" style="margin:15px 0">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
        Collapsible Group Item #1
      </a>
    </div>
    <div id="collapseOne" class="accordion-body collapse">
      <div class="accordion-inner">
        Anim pariatur cliche...
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
        Collapsible Group Item #2
      </a>
    </div>
    <div id="collapseTwo" class="accordion-body collapse">
      <div class="accordion-inner">
        Anim pariatur cliche...
      </div>
    </div>
  </div>
</div> -->

<div class="accordion">
    <div class="accordion-group">
        <div class="accordion-heading"> 
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
                <i class="icon-chevron-down"></i>
                Collapsible Group Item #1
            </a>
        </div>
         <div id="collapseOne" class="accordion-body collapse">
      <div class="accordion-inner">
        Anim pariatur cliche...
      </div>
    </div>
    </div>

    <div class="accordion-group">
        <div class="accordion-heading"> 
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
                <i class="icon-chevron-down"></i>
                Collapsible Group Item #2
            </a>
        </div>
    </div>
     <div id="collapseTwo" class="accordion-body collapse">
      <div class="accordion-inner">
        Anim pariatur cliche...
      </div>
    </div>
</div>


	<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				  <!--<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3 id="myModalLabel">Modal header</h3>
				  </div>!-->
				  <div class="modal-body">
					<div class="container">
							<div class="logincontent" >
							
									<div class="login-form">
										<h2>Login</h2>
										<form action="{{url_for('login')}}" method="post">
											<fieldset>							
													<input type="text" placeholder="Username" name="username" style="display:block" id="usernameTextbox">					
												
													<input type="password" placeholder="Password" name="password" style="display:block">
													<input type="hidden" name="site_id" value="{{sample_site.location_id}}">	

													<button class="btn btn-primary" type="submit">Login</button>
											</fieldset>

										</form>

											{% if error%}						
											<div class="alert" id="alert">
												<button type="button" class="close" data-dismiss="alert">&times;</button>
												<p id="alertMessage"> {{error}} </p>
											</div>
											{% endif %}

									</div>
								
							</div>
						</div>
				  </div>
				<!--  <div class="modal-footer">
				  	
					<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
				  </div> !-->
				</div>



<script type="text/javascript">
		
 jQuery(document).ready(function($) {

 				$("#forward img").click(function () {
				    gallery.next();
				});

				$("#backward img").click(function () {
				    gallery.previous();
				});
				// We only want these styles applied when javascript is enabled
				$('div.navigation').css({'width' : '300px', 'float' : 'left'});
				$('div.content').css('display', 'block');

				// Initially set opacity on thumbs and add
				// additional styling for hover effect on thumbs
				var onMouseOutOpacity = 0.67;
				$('#thumbs ul.thumbs li').opacityrollover({
					mouseOutOpacity:   onMouseOutOpacity,
					mouseOverOpacity:  1.0,
					fadeSpeed:         'fast',
					exemptionSelector: '.selected'
				});
				
				// Initialize Advanced Galleriffic Gallery
				var gallery = $('#thumbs').galleriffic({
					delay:                     2500,
					numThumbs:                 15,
					preloadAhead:              10,
					enableTopPager:            true,
					enableBottomPager:         true,
					maxPagesToShow:            7,
					imageContainerSel:         '#slideshow',
					 controlsContainerSel:      '#controls',					
					captionContainerSel:       '#caption',
					loadingContainerSel:       '#loading',
					renderSSControls:          true,
					renderNavControls:         true,
					playLinkText:              'Play Slideshow',
					pauseLinkText:             'Pause Slideshow',
					prevLinkText:              '&lsaquo; Previous Photo',
					nextLinkText:              'Next Photo &rsaquo;',
					nextPageLinkText:          'Next &rsaquo;',
					prevPageLinkText:          '&lsaquo; Prev',
					enableHistory:             false,
					autoStart:                 false,
					syncTransitions:           true,
					defaultTransitionDuration: 900,
					onSlideChange:             function(prevIndex, nextIndex) {
						// 'this' refers to the gallery, which is an extension of $('#thumbs')
						this.find('ul.thumbs').children()
							.eq(prevIndex).fadeTo('fast', onMouseOutOpacity).end()
							.eq(nextIndex).fadeTo('fast', 1.0);
					},
					onPageTransitionOut:       function(callback) {
						this.fadeTo('fast', 0.0, callback);
					},
					onPageTransitionIn:        function() {
						this.fadeTo('fast', 1.0);
					}
				});
			});



</script>
{% endblock %}